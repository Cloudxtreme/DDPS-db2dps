{
  "apps": [
    {
      "name": "ddosapi",
      "script": "bin/server.js",
      "instances" : "max",
      "exec_mode" : "cluster",
      "env": {
        "COMMON_VARIABLE": "true"
      },
      "env_production": {
        "NODE_ENV": "production"
      }
    }
  ],

  /**
   * Deployment section
   * http://pm2.keymetrics.io/docs/usage/deployment/
   */
  "deploy": {
    "production": {
      "user": "hansolo",
      "host": "localhost",
      "ref": "origin/master",
      "repo": "https://github.com/deic-dk/ddosapi.git",
      "path": "/opt/ddosapi/pro-ddosapi",
      "post-setup": "npm install; ls -la; pwd",
      "pre-deploy": "pm2 startOrRestart /opt/deploy-ddosapi/ecosystem.json --env production",
      "env": {
        "SU_SEC": "Tour of Enceladus and Titan",
        "SU_SEC_3SHA512": "01afbf1d6bdea756d91f524feb21aa59a81794b7d15715e95685c370777650340b62972ae39bb993d9b3cdca9e7a2858103a1b70d4b43772c3ffc409ec6817b0",
        "SU_ISSUER": "Ashokaditya",
        "RU_HOST": "localhost",
        "RU_SERVER_PORT": "9090",
        "RU_NAMESPACE": "ddosapi",
        "RU_DBC": "postgres",
        "RU_DB_VER": "9.5",
        "RU_SCHEMA": "netflow",
        "RU_USER": "flowuser",
        "RU_PWD": "password",
        "IF_HOST":"192.168.67.3",
        "IF_HOST_PORT":"8086",
        "IF_SCHEMA": "graphite",
        "NODE_ENV": "production"
      }
    },
    "development": {
      "user": "hansolo",
      "host": "localhost",
      "ref": "origin/master",
      "repo": "https://github.com/deic-dk/ddosapi.git",
      "path": "/opt/ddosapi/dev-ddosapi",
      "post-setup": "npm install; ls -la; pwd",
      "pre-deploy": "pm2 startOrRestart /opt/deploy-ddosapi/ecosystem.json --env development",
      "env": {
        "SU_SEC": "Tour of Enceladus and Titan",
        "SU_SEC_3SHA512": "01afbf1d6bdea756d91f524feb21aa59a81794b7d15715e95685c370777650340b62972ae39bb993d9b3cdca9e7a2858103a1b70d4b43772c3ffc409ec6817b0",
        "SU_ISSUER": "Ashokaditya",
        "RU_HOST": "localhost",
        "RU_SERVER_PORT": "9696",
        "RU_NAMESPACE": "ddosapi",
        "RU_DBC": "postgres",
        "RU_DB_VER": "9.5",
        "RU_SCHEMA": "netflow",
        "RU_USER": "flowuser",
        "RU_PWD": "password",
        "IF_HOST": "fastnetmon03.vpn.ddps.deic.dk",
        "IF_HOST_PORT":"8086",
        "IF_SCHEMA": "graphite",
        "NODE_ENV": "development"
      }
    }
  }
}
